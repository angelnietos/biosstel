# pnpm configuration for monorepo
auto-install-peers=true
strict-peer-dependencies=false

# Hoist all packages to root node_modules for better tool compatibility
# This ensures all dependencies are installed in root, not in subprojects
shamefully-hoist=true

# Note: Some node_modules may still appear in subprojects due to:
# - Version conflicts requiring local installation
# - Peer dependency resolution
# - Build tool requirements (e.g., ts-loader, nest-cli)
# This is normal in pnpm monorepos and should not cause issues.

# Allow build scripts for essential packages
onlyBuiltDependencies[]=@nestjs/core
onlyBuiltDependencies[]=@swc/core
onlyBuiltDependencies[]=nx
onlyBuiltDependencies[]=bcrypt
onlyBuiltDependencies[]=sharp
