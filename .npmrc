# pnpm configuration for monorepo
auto-install-peers=true
strict-peer-dependencies=false

# Hoist all packages to root node_modules for better tool compatibility
# This ensures all dependencies are installed in root, not in subprojects
shamefully-hoist=true

# Prevent node_modules in subprojects
public-hoist-pattern[]=*eslint*
public-hoist-pattern[]=*prettier*
public-hoist-pattern[]=*typescript*

# Allow build scripts for essential packages
onlyBuiltDependencies[]=@nestjs/core
onlyBuiltDependencies[]=@swc/core
onlyBuiltDependencies[]=nx
onlyBuiltDependencies[]=bcrypt
onlyBuiltDependencies[]=sharp
